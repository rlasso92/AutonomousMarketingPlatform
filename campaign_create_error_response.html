<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nueva Campa&#xF1;a - Autonomous Marketing Platform</title>
    
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AdminLTE CSS Base -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">
    
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap4.min.css">
    
    <!-- Custom CSS (sobreescribe AdminLTE) -->
    <link rel="stylesheet" href="/css/custom.css" asp-append-version="true">
    <!-- Dashboard CSS -->
    <link rel="stylesheet" href="/css/dashboard.css" asp-append-version="true">
    
    
</head>
<body class="hold-transition sidebar-mini layout-fixed">
    <div class="wrapper">
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button">
                <i class="fas fa-bars"></i>
            </a>
        </li>
    </ul>
    
    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">
        <!-- Notifications Dropdown Menu -->
        <li class="nav-item dropdown">
            <a class="nav-link" data-toggle="dropdown" href="#">
                <i class="far fa-bell"></i>
                <span class="badge badge-warning navbar-badge" id="notification-count">0</span>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                <span class="dropdown-item dropdown-header">Notificaciones</span>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-info-circle mr-2"></i> Sistema funcionando correctamente
                </a>
            </div>
        </li>
        
        <!-- Tenant Info -->
            <li class="nav-item d-none d-sm-inline-block">
                <span class="nav-link">
                    <i class="fas fa-building mr-1"></i>
                    <small class="text-muted">Tenant:</small>
                    <strong>eabb1423-ca22-4f96-817d-d068a5c5fd5f</strong>
                </span>
            </li>
        
        <!-- User Dropdown Menu -->
            <li class="nav-item dropdown">
                <a class="nav-link" data-toggle="dropdown" href="#">
                    <i class="far fa-user mr-1"></i>
                    <span class="d-none d-md-inline">Marketer de Prueba ?? marketer@test.com</span>
                </a>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                    <span class="dropdown-item dropdown-header">
                        Marketer de Prueba ?? marketer@test.com
                    </span>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-user mr-2"></i> Perfil
                    </a>
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-cog mr-2"></i> Configuración
                    </a>
                    <div class="dropdown-divider"></div>
                    <form asp-controller="Account" asp-action="Logout" method="post" class="d-inline">
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8FLP9DOYzx1PnKMUmuM8r28hhai-3jhWm-t0AYgcXvRPiVFbOAxqShZTwbGfsBLSV19EsObOE_kZ0v7CMsxzV-wqTXtNmNUKyvm7SCqHKp2v6Uns6zaKkg92b25kECvTKXPQaKGnZtk8_xLcssaZzfl0k6CTidvyHdk8uphjimhZh27s8nG3R9iO9V1TbKu5-Q" />
                        <button type="submit" class="dropdown-item">
                            <i class="fas fa-sign-out-alt mr-2"></i> Cerrar Sesión
                        </button>
                    </form>
                </div>
            </li>
    </ul>
</nav>


        
        <!-- Sidebar -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a href="/" class="brand-link">
        <span class="brand-text font-weight-light">Marketing Platform</span>
    </a>
    
    <!-- Sidebar -->
    <div class="sidebar">
        <!-- Sidebar Menu -->
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                <!-- Dashboard -->
                <li class="nav-item">
                    <a href="/Home/Index" class="nav-link">
                        <i class="nav-icon fas fa-tachometer-alt"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                
                <!-- Campañas -->
                <li class="nav-item">
                    <a href="/Campaigns" class="nav-link">
                        <i class="nav-icon fas fa-bullhorn"></i>
                        <p>Campañas</p>
                    </a>
                </li>
                
                <!-- Publicaciones -->
                <li class="nav-item">
                    <a href="/Publishing" class="nav-link">
                        <i class="nav-icon fas fa-paper-plane"></i>
                        <p>Publicaciones</p>
                    </a>
                </li>
                
                <!-- Métricas -->
                <li class="nav-item">
                    <a href="/Metrics" class="nav-link">
                        <i class="nav-icon fas fa-chart-line"></i>
                        <p>Métricas</p>
                    </a>
                </li>
                
                <!-- Contenido -->
                <li class="nav-item">
                    <a href="/Content/Upload" class="nav-link">
                        <i class="nav-icon fas fa-images"></i>
                        <p>Cargar Contenido</p>
                    </a>
                </li>
                
                <!-- Memoria de Marketing -->
                <li class="nav-item">
                    <a href="/Memory" class="nav-link">
                        <i class="nav-icon fas fa-brain"></i>
                        <p>Memoria</p>
                    </a>
                </li>
                
                <!-- Consentimientos -->
                <li class="nav-item">
                    <a href="/Consents" class="nav-link">
                        <i class="nav-icon fas fa-shield-alt"></i>
                        <p>Consentimientos</p>
                    </a>
                </li>
                
                <!-- Configuración de IA -->
                <li class="nav-item">
                    <a href="/AIConfig" class="nav-link">
                        <i class="nav-icon fas fa-robot"></i>
                        <p>Configuración IA</p>
                    </a>
                </li>
                
                <!-- Configuración de n8n -->
                <li class="nav-item">
                    <a href="/N8nConfig" class="nav-link">
                        <i class="nav-icon fas fa-plug"></i>
                        <p>Configuración n8n</p>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</aside>


        
        <!-- Content Wrapper -->
        <div class="content-wrapper">
            <!-- Main Content -->
            <section class="content">
                
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1><i class="fas fa-plus mr-2"></i>Nueva Campaña</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="/">Inicio</a></li>
                    <li class="breadcrumb-item"><a href="/Campaigns">Campañas</a></li>
                    <li class="breadcrumb-item active">Nueva</li>
                </ol>
            </div>
        </div>
    </div>
</section>

<section class="content">
    <div class="container-fluid">
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                Error al crear la campa&#xF1;a: An error occurred while saving the entity changes. See the inner exception for details.
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

        <div class="row">
            <div class="col-12">
                <div class="card card-primary">
                    <div class="card-header">
                        <h3 class="card-title">Información de la Campaña</h3>
                    </div>
                    <form asp-action="Create" method="post" id="createCampaignForm">
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8FLP9DOYzx1PnKMUmuM8r28hhai-3jhWm-t0AYgcXvRPiVFbOAxqShZTwbGfsBLSV19EsObOE_kZ0v7CMsxzV-wqTXtNmNUKyvm7SCqHKp2v6Uns6zaKkg92b25kECvTKXPQaKGnZtk8_xLcssaZzfl0k6CTidvyHdk8uphjimhZh27s8nG3R9iO9V1TbKu5-Q" />
                        <div class="card-body">
                            <div asp-validation-summary="All" class="alert alert-danger" role="alert"></div>


                            <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label asp-for="Name">Nombre de la Campaña <span class="text-danger">*</span></label>
                                            <input asp-for="Name" class="form-control" placeholder="Ej: Campaña Verano 2024" />
                                            <span asp-validation-for="Name" class="text-danger"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label asp-for="Status">Estado</label>
                                            <select asp-for="Status" class="form-control">
                                                <option value="Draft">Draft</option>
                                                <option value="Active">Active</option>
                                                <option value="Paused">Paused</option>
                                                <option value="Archived">Archived</option>
                                            </select>
                                            <span asp-validation-for="Status" class="text-danger"></span>
                                        </div>
                                    </div>
                            </div>

                            <div class="form-group">
                                <label asp-for="Description">Descripción</label>
                                <textarea asp-for="Description" class="form-control" rows="3" placeholder="Descripción de la campaña..."></textarea>
                                <span asp-validation-for="Description" class="text-danger"></span>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label asp-for="StartDate">Fecha de Inicio</label>
                                        <input asp-for="StartDate" type="date" class="form-control" />
                                        <span asp-validation-for="StartDate" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label asp-for="EndDate">Fecha de Fin</label>
                                        <input asp-for="EndDate" type="date" class="form-control" />
                                        <span asp-validation-for="EndDate" class="text-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label asp-for="Budget">Presupuesto</label>
                                        <input asp-for="Budget" type="number" step="0.01" class="form-control" placeholder="0.00" />
                                        <span asp-validation-for="Budget" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label asp-for="TargetChannels">Canales Objetivo</label>
                                <select asp-for="TargetChannels" multiple class="form-control">
                                    <option value="Instagram">Instagram</option>
                                    <option value="Facebook">Facebook</option>
                                    <option value="TikTok">TikTok</option>
                                    <option value="Twitter">Twitter</option>
                                    <option value="LinkedIn">LinkedIn</option>
                                </select>
                                <small class="form-text text-muted">Mantén presionado Ctrl (o Cmd en Mac) para seleccionar múltiples canales.</small>
                            </div>

                            <div class="form-group">
                                <label asp-for="Notes">Notas Internas</label>
                                <textarea asp-for="Notes" class="form-control" rows="4" placeholder="Notas adicionales sobre la campaña..."></textarea>
                            </div>
                        </div>
                        <div class="card-footer">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save mr-1"></i>Crear Campaña
                            </button>
                            <a href="/Campaigns" class="btn btn-secondary">
                                <i class="fas fa-times mr-1"></i>Cancelar
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>



            </section>
        </div>
        
        <!-- Footer -->
        <footer class="main-footer">
    <div class="float-right d-none d-sm-block">
        <b>Versión</b> 1.0.0
    </div>
    <strong>Copyright &copy; 2025 Autonomous Marketing Platform.</strong> Todos los derechos reservados.
</footer>


    </div>
    
    <!-- jQuery (debe cargarse primero) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- jQuery UI (requerido por AdminLTE) -->
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    
    <!-- Bootstrap 4 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- AdminLTE App (debe cargarse después de jQuery y Bootstrap) -->
    <script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
    
    <!-- DataTables -->
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap4.min.js"></script>
    
    <!-- Custom JavaScript (debe cargarse al final) -->
    <script src="/js/site.js" asp-append-version="true"></script>
    
    
<!-- jQuery Validation -->
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation-unobtrusive@3.2.12/dist/jquery.validate.unobtrusive.min.js"></script>

    <script>
        $(document).ready(function() {
            $('#createCampaignForm').on('submit', function(e) {
                
                // Log de todos los datos antes de enviar
                var formData = {};
                $(this).serializeArray().forEach(function(item) {
                    formData[item.name] = item.value;
                });
                console.log('Datos del formulario antes de enviar:', formData);
                
                // Permitir que el formulario se envíe - la validación del servidor manejará el resto
                return true;
            });
        });
    </script>

</body>
</html>


